<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sign Out â€” BLACK</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
    body {
        font-family: 'Poppins', sans-serif;
        background: #000;
        margin: 0;
        padding: 0;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
    }

    .card {
        background: #111;
        width: 90%;
        max-width: 360px;
        padding: 30px;
        border-radius: 18px;
        text-align: center;
        box-shadow: 0 0 10px #222;
        animation: fadeIn .5s ease forwards;
        opacity: 0;
        transform: translateY(20px);
    }

    @keyframes fadeIn {
        to { opacity: 1; transform: translateY(0); }
    }

    .fade-out {
        animation: fadeOut .4s forwards;
    }

    @keyframes fadeOut {
        to { opacity: 0; transform: scale(.95); }
    }

    .avatar {
        width: 90px;
        height: 90px;
        border-radius: 50%;
        margin-bottom: 15px;
        object-fit: cover;
        border: 2px solid #E50914;
    }

    button {
        width: 100%;
        padding: 12px;
        background: #E50914;
        border: none;
        border-radius: 10px;
        color: white;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        margin-top: 10px;
    }

    a {
        display: block;
        margin-top: 12px;
        color: #E50914;
        text-decoration: none;
    }

    /* Loading overlay */
    #loading {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.9);
        display: none;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        color: white;
    }

    .spinner {
        border: 4px solid #333;
        border-top: 4px solid #E50914;
        width: 45px;
        height: 45px;
        border-radius: 50%;
        animation: spin .7s linear infinite;
    }

    @keyframes spin {
        to { transform: rotate(360deg); }
    }
</style>
</head>

<body>

<div id="card" class="card">

    <img id="pic" class="avatar" src="https://img.icons8.com/ios-filled/100/ffffff/user.png">

    <h2 id="name">Hello</h2>
    <p style="color:#bbb; margin-bottom:20px;">Are you sure you want to sign out?</p>

    <button id="logoutBtn">Yes, Sign Out</button>

    <a href="index.html">Cancel</a>
</div>

<!-- Loading -->
<div id="loading">
    <div class="spinner"></div>
    <p style="margin-top:15px; font-size:18px;">Signing you out...</p>
</div>

<script>
    // Load session user
    const currentUser = localStorage.getItem("blackUser");
    const card = document.getElementById("card");
    const loading = document.getElementById("loading");

    if (!currentUser) {
        window.location.href = "login.html";
    }

    // Set username
    document.getElementById("name").textContent = currentUser;

    // Logout button
    document.getElementById("logoutBtn").addEventListener("click", () => {
        card.classList.add("fade-out");

        setTimeout(() => {
            card.style.display = "none";
            loading.style.display = "flex";
        }, 350);

        setTimeout(() => {
            // Remove session
            localStorage.removeItem("blackUser");

            // Redirect
            window.location.href = "login.html";
        }, 1000);
    });
</script>

</body>
</html>
